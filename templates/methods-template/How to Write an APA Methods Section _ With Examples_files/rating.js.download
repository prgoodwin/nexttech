var scribbrRatingCookieName="scribbrRating";$(document).ready(function(){var id=$(".rating-button").attr("data-id");var type=$(".rating-button").attr("data-type");$(".rating-button").click(function(){if(checkVoteStatus(scribbrRatingCookieName,id,type)){$('.already-voted').fadeIn(function(){$('.already-voted').delay(1000).fadeOut()})}else{$('.processing-vote').fadeIn();var rating=$(this).attr("data-rating");$.post("/wp-admin/admin-ajax.php",{action:"scribbr_rating",id:id,type:type,rating:rating,lang:siteLang},function(data,status){saveRatingToCookie(scribbrRatingCookieName,id,type,rating);if(status=="success"&&data!=""){$('.vote-saved').fadeIn(function(){$('.processing-vote').hide();$('.vote-saved').delay(1000).fadeOut()});var ratings=JSON.parse(data);$('.ratings-up').find('.number').html(ratings.up);$('.ratings-down').find('.number').html(ratings.down)}})}})});function checkVoteStatus(cookieName,id,type){var key=id+"-"+type;var allRatings=Cookies.getJSON(cookieName);if(typeof allRatings==="undefined"){return!1}else{if(typeof allRatings[key]!=="undefined"){return!0}
return!1}}
function saveRatingToCookie(cookieName,id,type,rating){var allRatings=Cookies.getJSON(cookieName);var key=id+"-"+type;var thisRating={};if(typeof allRatings==="undefined"){thisRating[key]=rating;Cookies.set(cookieName,thisRating,{expires:60})}else{if(typeof allRatings[key]=="undefined"){allRatings[key]=rating;Cookies.set(cookieName,allRatings,{expires:60})}else{}}}